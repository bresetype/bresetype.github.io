<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Typefaces</title>
  <link rel="icon" href="assets/icon.png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Typefaces</h1>
  </header>

  <div class="floating-header" id="floatingHeader">
    <a href="index.html" class="site-name">Alex Blattmann</a>

    <div class="header-icons">
      <img src="assets/DarkMode_Icon_Off.svg" id="darkModeToggle"
           style="width: 20px; height: 20px; cursor: pointer;" />

      <!-- New wrapper for icon + dropdown -->
      <div class="menu-container">
        <img src="assets/menu32x32_DarkMode_Off.svg"
             class="hamburger-icon"
             id="menuToggle"
             onclick="toggleMenu()" />
        <div class="hamburger-menu" id="menu">
          <a href="index.html">Typefaces</a>
          <a href="about.html">About</a>
        </div>
      </div>
    </div>
  </div>

  <main>
    <!-- Shared Font Buttons -->
    <div style="height: 40px;"></div>

    <div class="font-buttons-container">
      <button class="font-button" data-font="Ciunas" data-tooltip="Ciunas" style="font-family: 'Ciunas';">
        <span style="display: inline-block; transform: translateY(-2px);">Ciunas</span>
      </button>
      <button class="font-button" data-font="Quince AI" data-tooltip="Quince" style="font-family: 'Quince AI';">
        <span style="display: inline-block; transform: translateY(-2px);">Quince</span>
      </button>
      <button class="font-button" data-font="MonoBlock" data-tooltip="MonoBlock" style="font-family: 'MonoBlock';">MonoBlock</button>
      <button class="font-button" data-font="Netrin" data-tooltip="Netrin" style="font-family: 'Netrin';">Netrin</button>
      <button class="font-button" data-font="Flock" data-tooltip="Flock" style="font-family: 'Flock';">Flock</button>
      <button class="font-button" data-font="BPMMono" data-tooltip="BPMMono" style="font-family: 'BPMMono';">BPMMono</button>
    </div>

    <!-- Editable Box 1 -->
    <div style="height: 60px;"></div>

    <div class="editable-container">
      <div class="slider-controls" style="display: flex; flex-direction: row; gap: 32px;">
        <div style="margin-right: 0.15rem;">
          <img class="reset-icon" src="assets/TextReset_Icon_Off.svg" alt="Reset" />
        </div>
         
        <label style="display: flex; align-items: center; font-family: 'Ciunas', sans-serif; font-size: 12px; gap: 6px;">
          Size
          <input
            type="range"
            class="slider size-slider"
            min="12"
            max="144"
            value="96"
            step="1"
          />
        </label>
    
        <label style="display: flex; align-items: center; font-family: 'Ciunas', sans-serif; font-size: 12px; gap: 6px;">
          Tracking
          <input
            type="range"
            class="slider tracking-slider"
            min="-0.05"
            max="0.1"
            step="0.01"
            value="0"
            style="width: 32px;"
          />
        </label>
    
        <label style="display: flex; align-items: center; font-family: 'Ciunas', sans-serif; font-size: 12px; gap: 6px;">
          Leading
          <input
            type="range"
            class="slider lineheight-slider-vertical"
            min="0.6"
            max="1.6"
            value="1"
            step="0.01"
          />
        </label>
      </div>
      <div style="height: 10px;"></div>
      <div class="editable-box editable-box-large two-columns" contenteditable="true" data-tooltip="Click and type something...">
        The Art of Looking Busy 
      </div>
    </div>

    <!-- Editable Box 2 -->
    <div style="height: 60px;"></div>

    <div class="editable-container">
      <div class="slider-controls" style="display: flex; flex-direction: row; gap: 32px;">
        <div style="margin-right: 0.15rem;">
          <img class="reset-icon" src="assets/TextReset_Icon_Off.svg" alt="Reset" />
        </div>

        <label style="display: flex; align-items: center; font-family: 'Ciunas', sans-serif; font-size: 12px; gap: 6px;">
          Size
          <input
            type="range"
            class="slider size-slider"
            min="12"
            max="144"
            value="48"
            step="1"
          />
        </label>
    
        <label style="display: flex; align-items: center; font-family: 'Ciunas', sans-serif; font-size: 12px; gap: 6px;">
          Tracking
          <input
            type="range"
            class="slider tracking-slider"
            min="-0.05"
            max="0.1"
            step="0.01"
            value="0"
            style="width: 32px;"
          />
        </label>
    
        <label style="display: flex; align-items: center; font-family: 'Ciunas', sans-serif; font-size: 12px; gap: 6px;">
          Leading
          <input
            type="range"
            class="slider lineheight-slider-vertical"
            min="0.6"
            max="1.6"
            value="1"
            step="0.01"
          />
        </label>
      </div>
      <div style="height: 10px;"></div>
      <div class="editable-box editable-box-medium two-columns" contenteditable="true" data-tooltip="Click and type something...">
        Mere data make a man. A, and C, and T, and G. The alphabet of you. All from 4 symbols. Im only 2. 1 and 0. KD6-3-7, let’s begin. Ready? 
      </div>
    </div>

    <!-- Editable Box 3 -->
    <div style="height: 60px;"></div>

    <div class="editable-container">
      <div class="slider-controls" style="display: flex; flex-direction: row; gap: 32px;">
        <div style="margin-right: 0.15rem;">
          <img class="reset-icon" src="assets/TextReset_Icon_Off.svg" alt="Reset" />
        </div>

        <label style="display: flex; align-items: center; font-family: 'Ciunas', sans-serif; font-size: 12px; gap: 6px;">
          Size
          <input
            type="range"
            class="slider size-slider"
            min="12"
            max="144"
            value="16"
            step="1"
          />
        </label>
    
        <label style="display: flex; align-items: center; font-family: 'Ciunas', sans-serif; font-size: 12px; gap: 6px;">
          Tracking
          <input
            type="range"
            class="slider tracking-slider"
            min="-0.05"
            max="0.1"
            step="0.01"
            value="0"
            style="width: 32px;"
          />
        </label>
    
        <label style="display: flex; align-items: center; font-family: 'Ciunas', sans-serif; font-size: 12px; gap: 6px;">
          Leading
          <input
            type="range"
            class="slider lineheight-slider-vertical"
            min="0.6"
            max="1.6"
            value="1"
            step="0.01"
          />
        </label>
      </div>
      <div style="height: 10px;"></div>
      <div class="editable-box editable-box-small two-columns" contenteditable="true" data-tooltip="Click and type something...">
        I will say no more about it. Words do not express thoughts very well. They always become a little different immediately after they are expressed, a little distorted, a little foolish. 
        And yet it also pleases me and seems right that what is of value and wisdom to one man seems nonsense to another.
        It may be important to great thinkers to examine the world, to explain and despise it. But I think it is only important to love the world, not to despise it, not for us to hate each other, but to be able to regard the world and ourselves and all beings with love, admiration and respect.
      </div>
    </div>

    <script>
      document.querySelectorAll('.editable-container').forEach(container => {
        const sizeSlider = container.querySelector('.size-slider');
        const trackingSlider = container.querySelector('.tracking-slider');
        const lineHeightSlider = container.querySelector('.lineheight-slider-vertical');
        const box = container.querySelector('.editable-box');
        const resetIcon = container.querySelector('.reset-icon');
      
        const defaultText = box.innerHTML.trim();
        const defaultSize = sizeSlider?.value;
        const defaultTracking = trackingSlider?.value;
        const defaultLineHeight = lineHeightSlider?.value;
      
        function applyStyles() {
          if (sizeSlider) box.style.fontSize = `${sizeSlider.value}px`;
          if (trackingSlider) box.style.letterSpacing = `${trackingSlider.value}em`;
          if (lineHeightSlider) box.style.lineHeight = lineHeightSlider.value;
        }
      
        applyStyles();
      
        if (sizeSlider) {
          sizeSlider.addEventListener('input', () => {
            box.style.fontSize = `${sizeSlider.value}px`;
          });
        }
      
        if (trackingSlider) {
          trackingSlider.addEventListener('input', () => {
            box.style.letterSpacing = `${trackingSlider.value}em`;
          });
        }
      
        if (lineHeightSlider) {
          lineHeightSlider.addEventListener('input', () => {
            box.style.lineHeight = lineHeightSlider.value;
          });
        }
      
        if (resetIcon) {
          resetIcon.addEventListener('click', () => {
            if (sizeSlider) sizeSlider.value = defaultSize;
            if (trackingSlider) trackingSlider.value = defaultTracking;
            if (lineHeightSlider) lineHeightSlider.value = defaultLineHeight;
            box.innerHTML = defaultText;
            applyStyles();
          });
        }
      });
    </script>

    <script>
      document.querySelectorAll('.editable-box[data-tooltip]').forEach(el => {
        el.addEventListener('click', () => {
          if (!el.dataset.tooltipShown) {
            el.classList.add('hide-tooltip');
            el.dataset.tooltipShown = 'true';
          }
        });
      });
    </script>

    <script>
      function isPortraitMobile() {
        return window.matchMedia("(max-width: 768px) and (orientation: portrait)").matches;
      }

      function updateColumnLayout() {
        const editableBoxes = document.querySelectorAll('.editable-box');
      
        editableBoxes.forEach(box => {
          const fontSize = parseFloat(getComputedStyle(box).fontSize);
          const textLength = (box.textContent || '').length;
      
          const shouldHaveTwoColumns = (
            fontSize <= 20 &&
            textLength > 45 && // adjust this threshold if needed
            !isPortraitMobile()
          );
      
          console.log({
            fontSize,
            textLength,
            shouldHaveTwoColumns
          });
      
          box.classList.toggle('two-columns', shouldHaveTwoColumns);
        });
      }

      // Call on load and on resize
      window.addEventListener('DOMContentLoaded', updateColumnLayout);
      window.addEventListener('resize', updateColumnLayout);

      // Optional: monitor font size sliders
      document.querySelectorAll('.size-slider').forEach(slider => {
        slider.addEventListener('input', updateColumnLayout);
      });

      // Also call after editable content changes
      document.querySelectorAll('.editable-box').forEach(box => {
        box.addEventListener('input', updateColumnLayout);
      });
    </script>

    <div style="height: 40px;"></div>
    <hr class="section-divider" />

    <p class="onum" style="color:#8c8c8c; font-size:14px;">
      These type concepts are works-in-progress, single-weight designs and are not currently available.
    </p>
  </main>

  <footer>
    <div style="height: 20px;"></div>
    <p class="onum" style="color:#8c8c8c; font-size:12px;">
      This site uses Ciunas<br>
      © 2025
    </p>
  </footer>

  <script>
    function toggleMenu() {
      document.getElementById('menu').classList.toggle('show');
    }
  </script>
  <script>
    let lastScrollY = window.scrollY;
    const header = document.getElementById('floatingHeader');
  
    window.addEventListener('scroll', () => {
      if (window.scrollY > lastScrollY) {
        // Scrolling down
        header.classList.add('hide');
      } else {
        // Scrolling up
        header.classList.remove('hide');
      }
      lastScrollY = window.scrollY;
    });
  </script>    
  <script>
    const darkToggle = document.getElementById('darkModeToggle');
    const menuIcon = document.getElementById('menuToggle');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const savedTheme = localStorage.getItem('theme');

    function applyTheme(theme) {
      const isDark = theme === 'dark';
      document.body.classList.toggle('dark-mode', isDark);
      darkToggle.src = isDark ? 'assets/DarkMode_Icon_On.svg' : 'assets/DarkMode_Icon_Off.svg';
      menuIcon.src = isDark ? 'assets/menu32x32_DarkMode_On.svg' : 'assets/menu32x32_DarkMode_Off.svg';
    }

    const initialTheme = savedTheme || (prefersDark ? 'dark' : 'light');
    applyTheme(initialTheme);

    darkToggle.addEventListener('click', () => {
      const newTheme = document.body.classList.contains('dark-mode') ? 'light' : 'dark';
      applyTheme(newTheme);
      localStorage.setItem('theme', newTheme);
    });
  </script>
  <script>
    document.querySelectorAll('.font-button').forEach(button => {
      button.addEventListener('click', () => {
        const font = button.getAttribute('data-font');
        document.querySelectorAll('.editable-box').forEach(box => {
          box.style.fontFamily = `'${font}', sans-serif`;
        });
      });
    });
</script>  
</body>
</html>
